[gd_scene format=3 uid="uid://c6ylaolrwju5b"]

[ext_resource type="Script" uid="uid://bqvtwhmsv1pce" path="res://Scripts/buttons.gd" id="1_ebmjs"]
[ext_resource type="Script" uid="uid://dq1efcsdpdl2i" path="res://Scripts/game.gd" id="1_qxrlw"]
[ext_resource type="Texture2D" uid="uid://bko6dhfig1a07" path="res://Assets/Textures/bg.png" id="2_v158k"]
[ext_resource type="Texture2D" uid="uid://bbv4bhcat5ibi" path="res://Assets/Textures/button.png" id="3_wowpa"]
[ext_resource type="Texture2D" uid="uid://c8h62tcnw75e7" path="res://Assets/Textures/book.png" id="5_1l0tm"]
[ext_resource type="Texture2D" uid="uid://d0y4kjy4h30sq" path="res://Assets/Textures/minimapa.png" id="8_rku1e"]
[ext_resource type="Texture2D" uid="uid://b2anit7jl35f" path="res://Assets/Textures/sprite_0.png" id="9_ldgsr"]
[ext_resource type="Texture2D" uid="uid://bkprs6fv5e7lp" path="res://Assets/Textures/sprite_1.png" id="10_o5yvi"]
[ext_resource type="Texture2D" uid="uid://c0uvhi18csv7g" path="res://Assets/Textures/bell.png" id="11_o5yvi"]
[ext_resource type="Texture2D" uid="uid://d1db5ejm22qfc" path="res://Assets/Textures/sprite_2.png" id="11_rku1e"]
[ext_resource type="Texture2D" uid="uid://ble20c75c31c7" path="res://Assets/Textures/sprite_3.png" id="12_rfjv2"]
[ext_resource type="AudioStream" uid="uid://dueboy274f8pg" path="res://Assets/audio/pooja-bell-fast-415391.mp3" id="12_rku1e"]
[ext_resource type="Texture2D" uid="uid://du82gd3w25kvm" path="res://Assets/Textures/escenas.png" id="13_1phco"]
[ext_resource type="Texture2D" uid="uid://cyat73ephcqvf" path="res://Assets/Textures/bg_2.png" id="14_1phco"]

[sub_resource type="AtlasTexture" id="AtlasTexture_iivbl"]
atlas = ExtResource("13_1phco")
region = Rect2(42, 0, 42, 36)

[sub_resource type="AtlasTexture" id="AtlasTexture_7nbq1"]
atlas = ExtResource("13_1phco")
region = Rect2(168, 0, 42, 36)

[sub_resource type="AtlasTexture" id="AtlasTexture_exi56"]
atlas = ExtResource("13_1phco")
region = Rect2(42, 72, 42, 36)

[sub_resource type="AtlasTexture" id="AtlasTexture_7t8sx"]
atlas = ExtResource("13_1phco")
region = Rect2(168, 72, 42, 36)

[sub_resource type="SpriteFrames" id="SpriteFrames_mg4q0"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_iivbl")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_7nbq1")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_exi56")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_7t8sx")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_exi56")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_7nbq1")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_iivbl")
}],
"loop": false,
"name": &"default",
"speed": 10.0
}]

[sub_resource type="InputEventKey" id="InputEventKey_ewbju"]
device = -1
keycode = 4194305

[sub_resource type="Shortcut" id="Shortcut_85qyi"]
events = [SubResource("InputEventKey_ewbju")]

[sub_resource type="InputEventKey" id="InputEventKey_nb51f"]
device = -1
keycode = 66
unicode = 98

[sub_resource type="Shortcut" id="Shortcut_nnt18"]
events = [SubResource("InputEventKey_nb51f")]

[sub_resource type="InputEventKey" id="InputEventKey_nnt18"]
device = -1
keycode = 77
unicode = 109

[sub_resource type="Shortcut" id="Shortcut_ewbju"]
events = [SubResource("InputEventKey_nnt18")]

[sub_resource type="InputEventKey" id="InputEventKey_rku1e"]
device = -1
keycode = 65
unicode = 97

[sub_resource type="Shortcut" id="Shortcut_rfjv2"]
events = [SubResource("InputEventKey_rku1e")]

[sub_resource type="InputEventKey" id="InputEventKey_rfjv2"]
device = -1
keycode = 68
unicode = 100

[sub_resource type="Shortcut" id="Shortcut_1phco"]
events = [SubResource("InputEventKey_rfjv2")]

[sub_resource type="AtlasTexture" id="AtlasTexture_rku1e"]
atlas = ExtResource("11_o5yvi")
region = Rect2(0, 20, 20, 20)

[sub_resource type="AtlasTexture" id="AtlasTexture_rfjv2"]
atlas = ExtResource("11_o5yvi")
region = Rect2(20, 20, 20, 20)

[sub_resource type="AtlasTexture" id="AtlasTexture_1phco"]
atlas = ExtResource("11_o5yvi")
region = Rect2(40, 20, 20, 20)

[sub_resource type="AtlasTexture" id="AtlasTexture_nb51f"]
atlas = ExtResource("11_o5yvi")
region = Rect2(0, 40, 20, 20)

[sub_resource type="AtlasTexture" id="AtlasTexture_85qyi"]
atlas = ExtResource("11_o5yvi")
region = Rect2(40, 0, 20, 20)

[sub_resource type="AtlasTexture" id="AtlasTexture_ewbju"]
atlas = ExtResource("11_o5yvi")
region = Rect2(20, 0, 20, 20)

[sub_resource type="AtlasTexture" id="AtlasTexture_nnt18"]
atlas = ExtResource("11_o5yvi")
region = Rect2(0, 0, 20, 20)

[sub_resource type="SpriteFrames" id="SpriteFrames_iivbl"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_rku1e")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_rfjv2")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_1phco")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_nb51f")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_1phco")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_rfjv2")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_rku1e")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_85qyi")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_ewbju")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_nnt18")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_ewbju")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_85qyi")
}],
"loop": true,
"name": &"default",
"speed": 50.0
}]

[sub_resource type="InputEventKey" id="InputEventKey_1phco"]
device = -1
keycode = 87
unicode = 119

[sub_resource type="Shortcut" id="Shortcut_nb51f"]
events = [SubResource("InputEventKey_1phco")]

[node name="game" type="Node" unique_id=105694039]
script = ExtResource("1_qxrlw")

[node name="TextureRect" type="TextureRect" parent="." unique_id=891964818]
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
texture = ExtResource("2_v158k")

[node name="AnimatedDoor" type="AnimatedSprite2D" parent="." unique_id=291715108]
position = Vector2(944, 270)
scale = Vector2(15.121875, 14.968889)
sprite_frames = SubResource("SpriteFrames_mg4q0")

[node name="CanvasLayer" type="CanvasLayer" parent="." unique_id=445161190]
layer = 3

[node name="Button_Menu" type="MarginContainer" parent="CanvasLayer" unique_id=1969119511]
z_index = 3
offset_left = 1619.0
offset_top = 36.0
offset_right = 1839.0
offset_bottom = 147.0
script = ExtResource("1_ebmjs")

[node name="TextureButton_Menu" type="TextureButton" parent="CanvasLayer/Button_Menu" unique_id=1501791242]
z_index = 3
custom_minimum_size = Vector2(140, 100)
layout_mode = 2
shortcut = SubResource("Shortcut_85qyi")
texture_normal = ExtResource("3_wowpa")
stretch_mode = 0

[node name="Label" type="Label" parent="CanvasLayer/Button_Menu" unique_id=1020417174]
z_index = 3
layout_mode = 2
theme_override_font_sizes/font_size = 40
text = "Menu"
horizontal_alignment = 1

[node name="Button_Book" type="MarginContainer" parent="CanvasLayer" unique_id=1417299664]
z_index = 3
offset_left = 444.0
offset_top = 747.0
offset_right = 624.0
offset_bottom = 987.0
script = ExtResource("1_ebmjs")

[node name="TextureButton_Book" type="TextureButton" parent="CanvasLayer/Button_Book" unique_id=892263265]
z_index = 3
custom_minimum_size = Vector2(140, 100)
layout_mode = 2
shortcut = SubResource("Shortcut_nnt18")
texture_normal = ExtResource("5_1l0tm")
stretch_mode = 0

[node name="Button_Map" type="MarginContainer" parent="CanvasLayer" unique_id=2137947835]
z_index = 3
offset_left = 70.0
offset_top = 771.0
offset_right = 331.0
offset_bottom = 955.0
script = ExtResource("1_ebmjs")

[node name="TextureButton_Map" type="TextureButton" parent="CanvasLayer/Button_Map" unique_id=1123907491]
z_index = 1
custom_minimum_size = Vector2(140, 100)
layout_mode = 2
shortcut = SubResource("Shortcut_ewbju")
texture_normal = ExtResource("8_rku1e")
ignore_texture_size = true
stretch_mode = 0

[node name="Button_Accept" type="MarginContainer" parent="CanvasLayer" unique_id=1367204874]
z_index = 5
offset_left = 1278.0
offset_top = 750.0
offset_right = 1458.0
offset_bottom = 930.0
script = ExtResource("1_ebmjs")

[node name="TextureButton_Accept" type="TextureButton" parent="CanvasLayer/Button_Accept" unique_id=162484587]
z_index = 5
custom_minimum_size = Vector2(140, 100)
layout_mode = 2
shortcut = SubResource("Shortcut_rfjv2")
texture_normal = ExtResource("9_ldgsr")
texture_pressed = ExtResource("10_o5yvi")
stretch_mode = 0

[node name="Button_Deny" type="MarginContainer" parent="CanvasLayer" unique_id=1433026260]
z_index = 3
offset_left = 1585.0
offset_top = 750.0
offset_right = 1765.0
offset_bottom = 930.0
script = ExtResource("1_ebmjs")

[node name="TextureButton_Deny" type="TextureButton" parent="CanvasLayer/Button_Deny" unique_id=525311759]
z_index = 3
custom_minimum_size = Vector2(140, 100)
layout_mode = 2
keep_pressed_outside = true
shortcut = SubResource("Shortcut_1phco")
texture_normal = ExtResource("11_rku1e")
texture_pressed = ExtResource("12_rfjv2")
stretch_mode = 0

[node name="Button_Bell" type="MarginContainer" parent="CanvasLayer" unique_id=1964184247]
z_index = 3
offset_left = 433.0
offset_top = 89.0
offset_right = 613.0
offset_bottom = 269.0
script = ExtResource("1_ebmjs")

[node name="AnimatedBell" type="AnimatedSprite2D" parent="CanvasLayer/Button_Bell" unique_id=1169091551]
z_index = 3
position = Vector2(97, 87)
scale = Vector2(8, 8)
sprite_frames = SubResource("SpriteFrames_iivbl")

[node name="Timer" type="Timer" parent="CanvasLayer/Button_Bell/AnimatedBell" unique_id=1600774960]

[node name="audiocampana" type="AudioStreamPlayer2D" parent="CanvasLayer/Button_Bell" unique_id=874584711]
stream = ExtResource("12_rku1e")

[node name="TextureButton_Bell" type="TextureButton" parent="CanvasLayer/Button_Bell" unique_id=60642909]
layout_mode = 2
shortcut = SubResource("Shortcut_nb51f")

[node name="CanvasLayer2" type="CanvasLayer" parent="." unique_id=1979465960]
layer = 2

[node name="Bar" type="TextureRect" parent="CanvasLayer2" unique_id=1697963395]
z_index = 1
anchors_preset = 12
anchor_top = 1.0
anchor_right = 1.0
anchor_bottom = 1.0
offset_top = -453.0
grow_horizontal = 2
grow_vertical = 0
texture = ExtResource("14_1phco")

[connection signal="child_exiting_tree" from="." to="." method="_on_child_exiting_tree"]
[connection signal="animation_finished" from="AnimatedDoor" to="." method="_on_animated_door_animation_finished"]
[connection signal="ready" from="AnimatedDoor" to="." method="_on_animated_door_ready"]
[connection signal="button_down" from="CanvasLayer/Button_Menu/TextureButton_Menu" to="CanvasLayer/Button_Menu" method="_on_texture_button_down"]
[connection signal="button_up" from="CanvasLayer/Button_Menu/TextureButton_Menu" to="CanvasLayer/Button_Menu" method="_on_texture_button_up"]
[connection signal="pressed" from="CanvasLayer/Button_Menu/TextureButton_Menu" to="." method="_on_texture_button_menu_pressed"]
[connection signal="button_down" from="CanvasLayer/Button_Book/TextureButton_Book" to="CanvasLayer/Button_Book" method="_on_texture_button_down"]
[connection signal="button_up" from="CanvasLayer/Button_Book/TextureButton_Book" to="CanvasLayer/Button_Book" method="_on_texture_button_up"]
[connection signal="pressed" from="CanvasLayer/Button_Book/TextureButton_Book" to="." method="_on_texture_button_book_pressed"]
[connection signal="button_down" from="CanvasLayer/Button_Map/TextureButton_Map" to="CanvasLayer/Button_Map" method="_on_texture_button_down"]
[connection signal="button_up" from="CanvasLayer/Button_Map/TextureButton_Map" to="CanvasLayer/Button_Map" method="_on_texture_button_up"]
[connection signal="pressed" from="CanvasLayer/Button_Map/TextureButton_Map" to="." method="_on_texture_button_map_pressed"]
[connection signal="button_down" from="CanvasLayer/Button_Accept/TextureButton_Accept" to="CanvasLayer/Button_Accept" method="_on_texture_button_down"]
[connection signal="button_up" from="CanvasLayer/Button_Accept/TextureButton_Accept" to="CanvasLayer/Button_Accept" method="_on_texture_button_up"]
[connection signal="pressed" from="CanvasLayer/Button_Accept/TextureButton_Accept" to="." method="_on_texture_button_accept_pressed"]
[connection signal="button_down" from="CanvasLayer/Button_Deny/TextureButton_Deny" to="CanvasLayer/Button_Deny" method="_on_texture_button_down"]
[connection signal="button_up" from="CanvasLayer/Button_Deny/TextureButton_Deny" to="CanvasLayer/Button_Deny" method="_on_texture_button_up"]
[connection signal="pressed" from="CanvasLayer/Button_Deny/TextureButton_Deny" to="." method="_on_texture_button_deny_pressed"]
[connection signal="animation_looped" from="CanvasLayer/Button_Bell/AnimatedBell" to="." method="_on_animated_sprite_2d_animation_looped"]
[connection signal="ready" from="CanvasLayer/Button_Bell/AnimatedBell" to="." method="_on_animated_sprite_2d_ready"]
[connection signal="button_down" from="CanvasLayer/Button_Bell/TextureButton_Bell" to="CanvasLayer/Button_Bell" method="_on_texture_button_down"]
[connection signal="button_up" from="CanvasLayer/Button_Bell/TextureButton_Bell" to="CanvasLayer/Button_Bell" method="_on_texture_button_up"]
[connection signal="pressed" from="CanvasLayer/Button_Bell/TextureButton_Bell" to="." method="_on_texture_button_bell_pressed"]
